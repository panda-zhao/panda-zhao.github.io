
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <title>正则判断</title>
</head>
<body>
    <div id="app">
      <a href="https://c.runoob.com/front-end/854">在线测试</a>
      <h1>输入正则表单式</h1>
      <input type="text" @input='verifyIdcNumber'>
      <p>自动校验结果：<span style="color:red">{{result}}</span></p>
      <!-- <div>
        <label for="">正则表单式</label>
        <input type="text" v-model='regExp'>
      </div>
      <div>
          <label for="">校验内容</label>
          <input type="text" v-model='str' @input='verifyIdcNumber'>
      </div> -->
      <h2>常用正则表达式</h2>
      <p>手机号码：<code>/^1[3|4|5|6|7|8|9]\d{9}$/</code></p>
      <p>电话号码：<code>^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8}))$</code></p>
      <p>电话号码和手机号码：<code>/^(1[3|4|5|6|7|8|9]\d{9})$|^((0\d{2,3}(-)?)?\d{7,8}(-\d{4})?)$/</code></p>
      <p>名字(中文)：<code>/^[\u4E00-\u9FA5\uf900-\ufa2d·s]{2,20}$/</code></p>
      <p>名字(中文名或英文名)：<code>^([\u4e00-\u9fa5]{2,20}|[a-zA-Z.\s]{2,20})$ </code></p>
      <p>身份证：<code>/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx])|([1−9]\d5\d2((0[1−9])|(10|11|12))(([0−2][1−9])|10|20|30|31)\d2[0−9Xx])/</code></p>
      <p>验证url(http://www.baidu.com)：<code>/^([hH][tT]{2}[pP]:\/\/|[hH][tT]{2}[pP][sS]:\/\/)[^\s]*/</code></p>
      <p>验证邮箱email：<code>/[\w!#$%&'*+/=?^_`{|}~-]+(?:\.[\w!#$%&'*+/=?^_`{|}~-]+)*@(?:[\w](?:[\w-]*[\w])?\.)+[\w](?:[\w-]*[\w])?/</code></p>
    </div>
    <script src="https://cdn.bootcss.com/vue/2.6.10/vue.min.js"></script>
    <script>
      // var pattern = /^1[3|4|5|6|7|8|9]\d{9}$/
      // var pattern = /^1[3|4|5|6|7|8|9][0|1|3|4|5|6|7|8|9]\d{8}$/
      // str = '13918233075'
      // console.log('正则匹配结果', pattern.test(str));
      var app = new Vue({
        el: '#app',
        data: {
          result: '准备开始校验'
        },
        created(){
        },
        methods: {
          verifyIdcNumber(e){
            // 一般手机号码校验
            // var regExp = /^1[3|4|5|6|7|8|9]\d{9}$/
            // 匹配8位完全一样的数字
            // let regExp = /^(\d)\1{7}(?!\1)$/
            // 匹配8位不是完全一样的数字
            // let regExp = /^(?!(\d)\1{7})\d{8}$/
            // 最终正则，不能以132开头的手机号码，后8不能相同
            // let regExp = /^(?!132)1[3|4|5|6|7|8|9]\d{1}(?!(\d)\1{7})\d{8}$/
            // 三位或者四位区号+七位或者八位固定电话
            // let regExp =  /^(\d{7,8})|(\d{4}|\d{3})(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})$/

            // 不能132开头，不能后八位相同数字
            // let regExp =/^1[3|4|5|6|7|8|9][0|1|3|4|5|6|7|8|9](?!(\d)\1{7})\d{8}$/ 有bug
            // let regExp = /^1[3|4|5|6|7|8|9][0|1|3|4|5|6|7|8|9]?!(\d)\1{7}(?!\1)$/

            // 校验企业名,四个字符以上
            // let regExp = /^.{4,}$/
            // let regExp = /^[1-9]+\d*$/

            // 金额
            // let regExp = /^[0-9]+([.]{1}[0-9]+){0,1}$/
            // let regExp = /^(?!0$)(?!0[0-9])[0-9]+(\.[0-9]{1,6})?$/

            // 身份证号
            // let regExp = /^(1[3|4|5|6|7|8|9]\d{9})$|^((0\d{2,3}(-)?)?\d{7,8}(-\d{4})?)$/

            let regExp = /^[1-9]\d{5}(18|19|2([0-9]))\d{2}(0[0-9]|10|11|12)([0-2][1-9]|30|31)\d{3}[0-9Xx]$/
            // let  regExp = /(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx])|([1−9]\d5\d2((0[1−9])|(10|11|12))(([0−2][1−9])|10|20|30|31)\d2[0−9Xx])/

            this.result = regExp.test(e.target.value) ? '格式正确' : '格式错误'
          }
        }
      })
      </script>
</body>
</html>