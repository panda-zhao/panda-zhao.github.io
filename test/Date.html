<!--
 * @Author: your name
 * @Date: 2022-03-12 22:51:53
 * @LastEditTime: 2022-05-02 18:15:03
 * @LastEditors: Please set LastEditors
 * @Description: 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
 * @FilePath: \panda-zhao.github.io\test\Date.html
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <div>比较日期</div>
  <div id="demo"></div>
  <script>
let start1 = new Date()
setTimeout(()=>{
  console.log('==========', new Date() - start1)
}, 1000)

console.log('formatDate', formatDate())
// 获取当前时间
function formatDate (date){
	if(!date){
		date = new Date()
	}
  const year = date.getFullYear()  
  const month = date.getMonth() + 1  
  const day = date.getDate()  
  const hour = date.getHours()  
  const minute = date.getMinutes()  
  const second = date.getSeconds()
  const milliseconds = date.getMilliseconds()  
  const formatNumber = n => {    
    n = n.toString()    
    return n[1] ? n : '0' + n  
  }  
  return [year, month, day].map(formatNumber).join('-')
}

// 计算过去了多久
// 比如计算生日到现在过去了多久
let birthday = new Date('1989-05-06 08:00:00')
let time = new Date() - birthday
console.log('过去了多久=', time)
console.log('formatTime', formatTime(time))
function formatTime(time) {
	if (typeof time !== 'number' || time < 0) {
		return time
	}
  let year = parseInt(time / 31557600000)
  time = time % 31557600000
  let month = parseInt(time / 2629800000)
  time = time % 2629800000
  let day = parseInt(time / 86400000)
  time = time % 86400000
	let hour = parseInt(time / 3600000)
	time = time % 3600000
	let minute = parseInt(time / 60000)
	time = time % 60000
	let second = parseInt(time / 1000)
  time = time % 1000

  let milliseconds = time
  
  const formatNumber = n => {    
    n = n.toString()    
    return n[1] ? n : '0' + n  
  }  

  return [year, month, day].map(formatNumber).join('-') + ' ' + [hour, minute, second].map(formatNumber).join(':') + ':'+ milliseconds
}

    // 计算过去多久
    let startTime = Date.now()
    setTimeout(()=>{
      let endTime = Date.now()
      console.log('过去了多久', startTime, endTime, endTime - startTime)
    }, 1500)
    
    let total = 100
    total += 99
    console.log('total =', total)
    
    // let companyEndDate = '2020-04-30' // 经营期限-应该大于出资日期
    // let capitalDate = '2050-2-27' //出资日期
    // console.log('出资日期是否大于经营期限', new Date(capitalDate.replace(/-/g, '\/')) > new Date(companyEndDate.replace(/-/g, '\/')))
    // alert('2050-2-27' + (new Date(capitalDate) > new Date(companyEndDate) ? '大于': '小于') + '2020-04-30')

    let start = '2020-04-2'
    let end = '2020-04-30'
    let current = new Date()

    if(new Date(start.replace(/-/g, '\/')) > current){
      console.log('可以办理', )
    }else{
      console.log('当前是最后三天不可以办理')
    }

    

    const creatUuid = function creatUuid () {
      const s = []
      const hexDigits = '0123456789abcdef'
      for (let i = 0; i < 36; i++) {
        s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1)
      }
      s[14] = '4'
      s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1)
      s[8] = s[13] = s[18] = s[23] = '-'

      const uuid = s.join('')
      return uuid
    }
     
     demo.innerHTML = creatUuid()
  </script>
</body>
</html>