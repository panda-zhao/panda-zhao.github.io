<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>随机密码生成器</title>
  </head>
  <body>
    <script>
      generatePassword(6, true, true,true,true)
      /**
       * @params length {number} 要生成的密码长度
       * @params hasLowerCase {boolean} 是否包含小写字母(a..z)
       * @params hasUpperCase {boolean} 是否包含大写字母(A..Z)
       * @params hasNumber {boolean} 是否包含数字(0..9)
       * @params hasSpecialCharacter {boolean} 是否包含特殊字符
       * */
      function generatePassword(length, hasLowerCase, hasUpperCase, hasNumber, hasSpecialCharacter) {
        var string = "abcdefghijklmnopqrstuvwxyz";
        var strUpper = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";
        var numeric = "0123456789";
        var punctuation = "!@#$%^&*()_+~`|}{[]\:;?><,./-=";
        var password = "";
        while (password.length < length) {
          entity1 =
            Math.ceil(string.length * Math.random() * Math.random()) - 1;
          entity2 =
            Math.ceil(numeric.length * Math.random() * Math.random()) - 1;
          entity3 =
            Math.ceil(punctuation.length * Math.random() * Math.random()) - 1;
          entity4 =
            Math.ceil(strUpper.length * Math.random() * Math.random()) - 1;
          if ( hasLowerCase || hasUpperCase || hasNumber || hasSpecialCharacter ) {
            if (hasLowerCase && password.length < length) {
              password += string.charAt(entity1);
            }
            if (hasUpperCase && password.length < length) {
              password += strUpper.charAt(entity4);
            }
            if (hasNumber && password.length < length) {
              password += numeric.charAt(entity2);
            }
            if (hasSpecialCharacter && password.length < length) {
              password += punctuation.charAt(entity3);
            }
          } else {
            break;
          }
        }
        console.log('password', password)
        return password
      }
    </script>
  </body>
</html>
